<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://lambda-orm.github.io/wiki/queries/Delete/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Delete - λORM Wiki</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Delete";
        var mkdocs_page_input_path = "queries/Delete.md";
        var mkdocs_page_url = "/wiki/queries/Delete/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> λORM Wiki
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="" href="../../index.html">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../Features">Features</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../api">Api</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../cli">Cli</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../labs">Labs</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Queries</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../Query-Language">Query Language</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../Expression">Expression</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../Select">Select</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../Join">Join</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../Grouping">Grouping</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../Include">Include</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../Insert">Insert</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../BulkInsert">Bulk Insert</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../Update">Update</a>
                  </li>
                  <li class="toctree-l1"><a class="" href=".">Delete</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../operatorsAndFunctions/OperatorsAndFunctions">Operators & Functions</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Schema</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaDefinition">Definition</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaDefinition-Expressions">Expressions</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaDefinition-EnvironmentVariables">Environment Variables</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaDefinition-Composite">Composite</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaExample-Listener">Listeners</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaExample-Basic">Basic</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaExample-Extend">Extend Entity</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaExample-MultiplesStages">Multiples Stages</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaExample-StageMultiplesSources">Stage with Multiples Sources</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaExample-Composite">Entity Composite</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaSynchronization-Push">Push</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaSynchronization-Pull">Pull</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaSynchronization-Fetch">Fetch</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaSynchronization-Introspect">Introspect</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/SchemaSynchronization-Incorporate">Incorporate</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../schema/Schema-Use">Use</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Usage</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../../usage/Repository">Repository</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../usage/Transaction">Transaction</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../usage/Usage">Usage</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../usage/CHANGELOG">Change log</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">λORM Wiki</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Delete</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="delete">Delete</h1>
<h2 id="delete-record-for-filter">Delete record for filter</h2>
<p><strong>Lambda:</strong></p>
<pre><code class="language-Typescript">// Deleting records from OrderDetails where orderId matches the provided id
OrderDetails.delete().filter(p =&gt; p.orderId === id)
</code></pre>
<p><strong>SQL Result:</strong></p>
<pre><code class="language-sql">-- Deleting records from Order Details where OrderID matches the provided id
DELETE o FROM `Order Details` AS o WHERE o.OrderID = ?
</code></pre>
<h2 id="delete-with-default-filter">Delete with default filter</h2>
<p>In the case that delete() is used and no filter is specified, it is assumed that it will be filtered by the primary key</p>
<p><strong>Lambda:</strong></p>
<pre><code class="language-Typescript">// Deleting records from OrderDetails filtered by the primary key (OrderID)
OrderDetails.delete()
</code></pre>
<p><strong>SQL Result:</strong></p>
<pre><code class="language-sql">-- Deleting records from Order Details where OrderID matches the primary key
DELETE o FROM `Order Details` AS o WHERE o.OrderID = ?
</code></pre>
<h2 id="delete-all-records">Delete all records</h2>
<p>If you want to delete all the records of an entity, you should use deleteAll instead of delete.
This is done to avoid deleting all records by mistake.</p>
<p><strong>Lambda:</strong></p>
<pre><code class="language-Typescript">// Deleting all records from OrderDetails
OrderDetails.deleteAll()
</code></pre>
<p><strong>SQL Result:</strong></p>
<pre><code class="language-sql">-- Deleting all records from Order Details
DELETE o FROM `Order Details` AS o 
</code></pre>
<h2 id="delete-entity-an-related-entity">Delete entity an related entity</h2>
<p><strong>Lambda:</strong></p>
<pre><code class="language-Typescript">// Deleting orders and their details
Orders.delete().include(p =&gt; p.details)
</code></pre>
<p><strong>SQL Result:</strong></p>
<pre><code class="language-sql">-- Deleting orders where OrderID matches the provided id
DELETE o FROM Orders AS o WHERE o.OrderID = ? 

-- Deleting order details where OrderID and ProductID match the provided ids
DELETE o1 FROM `Order Details` AS o1 WHERE (o1.OrderID = ? AND o1.ProductID = ?)
</code></pre>
<h2 id="code-example">Code example</h2>
<pre><code class="language-Typescript">import { orm } from '../../lib'
import { Products } from '../northwind/model/__model'
(async () =&gt; {  
    try {       
        await orm.init('./config/northwind.yaml')
        const order = {
            id: 1,
            customerId: 'ALFKI',
            employeeId: 6,
            orderDate: '1997-08-24T22:00:00.000Z',
            requiredDate: '1997-09-21T22:00:00.000Z',
            shippedDate: '1997-09-01T22:00:00.000Z',
            shipViaId: 1,
            freight: '29.4600',
            name: 'Alfreds Futterkiste',
            address: 'Obere Str. 57',
            city: 'Berlin',
            region: null,
            postalCode: '12209',
            country: 'Germany',
            details: [
                {
                    orderId: 1,
                    productId: 28,
                    unitPrice: '45.6000',
                    quantity: '15.0000',
                    discount: '0.0000'
                },
                {
                    orderId: 1,
                    productId: 39,
                    unitPrice: '18.0000',
                    quantity: '21.0000',
                    discount: '0.0000'
                }
            ]
        }
        // Defining a query to delete orders and include details
        const query = () =&gt; Orders.delete().include(p =&gt; p.details)
        // Executing the query using the ORM with the specified order parameter
        await orm.execute(query, order)
    } catch (error:any) {
        console.error(error.stack)
    } finally {
        // Ending the ORM connection
        await orm.end()
    }
})()
</code></pre>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../extra.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
