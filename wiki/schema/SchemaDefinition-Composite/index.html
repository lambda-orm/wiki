<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Composite Entity - λORM Wiki</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Composite Entity";
        var mkdocs_page_input_path = "schema/SchemaDefinition-Composite.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> λORM Wiki
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="" href="../../index.html">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../Usage/index.html">Usage</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../Features/index.html">Features</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../api/index.html">Api</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="../../cli/index.html">Cli</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="https://github.com/lambda-orm/lambdaorm-labs">Labs</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Queries</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../../queries/Query-Language/index.html">Query Language</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../queries/Expression/index.html">Expression</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../queries/Select/index.html">Select</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../queries/Join/index.html">Join</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../queries/Grouping/index.html">Grouping</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../queries/Include/index.html">Include</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../queries/Insert/index.html">Insert</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../queries/BulkInsert/index.html">Bulk Insert</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../queries/Update/index.html">Update</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../queries/Delete/index.html">Delete</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Schema</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../SchemaDefinition/index.html">Definition</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaDefinition-Expressions/index.html">Expressions</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaDefinition-EnvironmentVariables/index.html">Environment Variables</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="index.html">Composite</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaExample-Listener/index.html">Listeners</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaExample-Basic/index.html">Basic</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaExample-Extend/index.html">Extend Entity</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaExample-MultiplesStages/index.html">Multiples Stages</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaExample-StageMultiplesSources/index.html">Stage with Multiples Sources</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaExample-Composite/index.html">Entity Composite</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaSynchronization-Push/index.html">Push</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaSynchronization-Pull/index.html">Pull</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaSynchronization-Fetch/index.html">Fetch</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaSynchronization-Introspect/index.html">Introspect</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../SchemaSynchronization-Incorporate/index.html">Incorporate</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../Schema-Use/index.html">Use</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Usage</span></p>
              <ul>
                  <li class="toctree-l1"><a class="" href="../../Repository/index.html">Repository</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../Transaction/index.html">Transaction</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../Usage/index.html">Usage</a>
                  </li>
                  <li class="toctree-l1"><a class="" href="../../CHANGELOG/index.html">Change log</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">λORM Wiki</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Composite Entity</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="composite-entity">Composite Entity</h1>
<p>When a relationship is set to <strong>composite</strong> it will be treated as part of a document. \
In the case of Non-Relational databases, the records of the relationship will be stored in the same collection. \</p>
<p>In the case of relational databases, although the data is stored in different tables, when executing import and export it will be treated as an object that contains the records of the relationship. \</p>
<p>The way to define that an entity is composite is by creating the name of the entity by putting the name of the parent in front. \
Example: <strong>Devices.Components</strong></p>
<pre><code class="language-yaml">...
domain:
  entities:
    ...
    - name: Devices
      primaryKey: [&quot;id&quot;]
      uniqueKey: [&quot;name&quot;]
      properties:
        - name: id
          length: 32
          required: true
          default: 'concat(type,&quot;-&quot;,switch(type){case&quot;phone&quot;:imei;default:mac;})'
        - name: type
          length: 16
          required: true
          enum: DeviceType
        - name: name
          length: 32
          required: true
        ...
    - name: Devices.Components
      extends: Products
      primaryKey: [&quot;id&quot;]
      uniqueKey: [&quot;deviceId&quot;, &quot;name&quot;]
      properties:
        - name: id
          length: 50
          required: true
          default: concat(deviceId,&quot;-&quot;,lower(substring(replace(name,&quot; &quot;,&quot;-&quot;),0,16)))
        - name: deviceId
          length: 32
          required: true
        - name: name
          length: 16
          required: true
        ...
      relations:
        - name: device
          from: deviceId
          entity: Devices
          to: id
          target: components
      ...    
</code></pre>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
