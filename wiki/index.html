<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="None">
  
  
  <link rel="shortcut icon" href="img/favicon.ico">
  <title>LambdaORM Wiki</title>
  <link rel="stylesheet" href="css/theme.css" />
  <link rel="stylesheet" href="css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Home";
    var mkdocs_page_input_path = "index.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="js/jquery-2.1.1.min.js" defer></script>
  <script src="js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="." class="icon icon-home"> LambdaORM Wiki</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href=".">Home</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#query-language">Query Language</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#include">Include</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#schema-configuration">Schema Configuration</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#contributing">Contributing</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#all-labs">All Labs</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#related-projects">Related projects</a>
    </li>
    </ul>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="Usage/">Usage</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="Features/">Features</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="https://github.com/lambda-orm/lambdaorm-labs">Labs</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Queries</span></p>
                <ul>
                    <li class="toctree-l1"><a class="" href="Query-Language.md">Query Language</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="Expression/">Expression</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">DQL</a>
    <ul>
                <li class="toctree-l2"><a class="" href="Select.md">Select</a>
                </li>
                <li class="toctree-l2"><a class="" href="Join.md">Join</a>
                </li>
                <li class="toctree-l2"><a class="" href="Grouping.md">Grouping</a>
                </li>
                <li class="toctree-l2"><a class="" href="Include.md">Include</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">DML</a>
    <ul>
                <li class="toctree-l2"><a class="" href="Insert.md">Insert</a>
                </li>
                <li class="toctree-l2"><a class="" href="BulkInsert.md">Bulk Insert</a>
                </li>
                <li class="toctree-l2"><a class="" href="Update.md">Update</a>
                </li>
                <li class="toctree-l2"><a class="" href="Delete.md">Delete</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="Repository/">Repository</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="Transaction/">Transaction</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="Metadata.md">Metadata</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Schema</span></p>
                <ul>
                    <li class="toctree-l1"><a class="" href="SchemaDefinition.md">Definition</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="SchemaDefinition-Expressions.md">Expressions</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="SchemaDefinition-EnvironmentVariables.md">Environment Variables</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="SchemaDefinition-Composite.md">Composite</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="SchemaExample-Listener.md">Listeners</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="SchemaExample-Basic.md">Basic</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="SchemaExample-Extend.md">Extend Entity</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="SchemaExample-MultiplesStages.md">Multiples Stages</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="SchemaExample-StageMultiplesSources.md">Stage with Multiples Sources</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="SchemaExample-Composite.md">Entity Composite</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Synchronization</a>
    <ul>
                <li class="toctree-l2"><a class="" href="SchemaSynchronization-Push.md">Push</a>
                </li>
                <li class="toctree-l2"><a class="" href="SchemaSynchronization-Pull.md">Pull</a>
                </li>
                <li class="toctree-l2"><a class="" href="SchemaSynchronization-Fetch.md">Fetch</a>
                </li>
                <li class="toctree-l2"><a class="" href="SchemaSynchronization-Introspect.md">Introspect</a>
                </li>
                <li class="toctree-l2"><a class="" href="SchemaSynchronization-Incorporate.md">Incorporate</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="" href="Schema-Use.md">Use</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="https://github.com/lambda-orm/wiki/blob/main/doc/source/README.md">Source Code Documentation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="" href="https://github.com/lambda-orm/wiki/blob/main/CHANGELOG.md">Change log</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href=".">LambdaORM Wiki</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".">Docs</a> &raquo;</li>
    
      
    
    <li>Home</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="orm">Î»ORM</h1>
<p><a href="https://github.com/lambda-orm/wiki/discussions"><img alt="Join the community on GitHub Discussions" src="https://img.shields.io/badge/Join%20the%20community-on%20GitHub%20Discussions-blue.svg" /></a>
<a href="https://join.slack.com/t/nuevoespaciod-xo58767/shared_invite/zt-29ix7pc2r-Wd_ZBWnWRDv_5DM4NPtVhQ"><img alt="Slack" src="https://img.shields.io/badge/chat-on%20slack-orange" /></a>
<a href="https://app.gitter.im/#/room/#lambdaorm-how-to-contribute:gitter.im"><img alt="Gitter" src="https://badges.gitter.im/lambdaorm/community.svg" /></a>
<a href="https://discord.com/invite/yXT6XBX2"><img alt="Discord" src="https://img.shields.io/badge/chat-on%20discord-orange" /></a>
<a href="https://github.com/lambda-orm/wiki"><img alt="Wiki" src="https://img.shields.io/badge/doc-wiki-yellow" /></a>
<a href="https://www.npmjs.com/package/lambdaorm"><img alt="language typescript" src="https://img.shields.io/badge/language-typescript-blue" /></a>
<a href="https://www.npmjs.com/package/lambdaorm"><img alt="npm version" src="https://img.shields.io/badge/npm-10.2.5-green" /></a>
<a href="https://opensource.org/licenses/MIT"><img alt="License: MIT" src="https://img.shields.io/badge/License-MIT-yellow.svg" /></a>
<a href="https://github.com/semantic-release/semantic-release"><img alt="semantic-release" src="https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg" /></a>
<a href="https://github.com/lambda-orm/wiki/actions?query=workflow%3A%22publish%22"><img alt="Github CI" src="https://img.shields.io/badge/Github-CI-red.svg" /></a>
<a href="https://www.npmjs.com/package/lambdaorm-cli"><img alt="CLI" src="https://img.shields.io/badge/Api-CLI-blue.svg" /></a>
<a href="https://github.com/lambda-orm/wiki/api"><img alt="Api REST" src="https://img.shields.io/badge/Api-REST-blue.svg" /></a></p>
<p>Î»ORM is an ORM that allows us to perform distributed queries on different database engines.</p>
<p>In Î»ORM, queries are defined using lambda expressions based on a domain model which abstracts us from the infrastructure. For example, in a query you can obtain or modify records from different entities, where some persist in MySQL, others in Postgres, and others in Mongo.</p>
<p>Î»ORM allows you to define different scenarios for the same domain. For example, in one scenario, the infrastructure may consist of distributed instances across SQL Server, MongoDB, and Oracle, while in another scenario it may be a single Postgres instance. This allows the <a href="https://microservices.io/patterns/data/cqrs.html">CQRS</a> pattern to be implemented through configuration, without needing to write a single line of code. <a href="https://github.com/lambda-orm/lambdaorm-labs/tree/main/labs/svc/04-northwind-cqrs-with-kafka">view example</a></p>
<p>In addition to being used as a Node.js library, it can be consumed from a command line interface (CLI), a REST service, or a REST service client in other programming languages.</p>
<h2 id="query-language">Query Language</h2>
<p>Example of a query where orders and their details associated with a customer are obtained:</p>
<pre><code class="language-Typescript">const query = (country: string) =&gt; Products
    .map(p =&gt; ({ category: p.category.name, largestPrice: max(p.price) }))    
    .filter(p =&gt; (p.price &gt; 5 &amp;&amp; p.supplier.country == country) || (p.inStock &lt; 3))    
    .having(p =&gt; max(p.price) &gt; 50)
    .sort(p =&gt; desc(p.largestPrice));
// Run the query passing the value of the country parameter
const result = await orm.execute(query, { country: 'ARG' });
</code></pre>
<p>In this example:</p>
<ul>
<li>Define a query that returns a list of product categories along with the maximum price of each category.</li>
<li>Filter products based on price and supplier's country or stock availability</li>
<li>Group products by category and calculate the maximum price</li>
<li>Map each product to an object with category name and maximum price</li>
<li>Sort the products by largest price in descending order</li>
</ul>
<p><strong>view:</strong> <a href="https://lambda-orm.github.io/wiki/Query-Language">queries</a> |
<a href="https://lambda-orm.github.io/wiki/Select">select</a> |
<a href="https://lambda-orm.github.io/wiki/Join">join</a> |
<a href="https://lambda-orm.github.io/wiki/Grouping">grouping</a> |
<a href="https://lambda-orm.github.io/wiki/Include">include</a> |
<a href="https://lambda-orm.github.io/wiki/Insert">insert</a> |
<a href="https://lambda-orm.github.io/wiki/BulkInsert">bulkInsert</a> |
<a href="https://lambda-orm.github.io/wiki/Update">update</a> |
<a href="https://lambda-orm.github.io/wiki/Delete">delete</a> |
<a href="https://lambda-orm.github.io/wiki/Repository">repository</a> |
<a href="https://lambda-orm.github.io/wiki/Usage">usage</a> |
<a href="https://lambda-orm.github.io/wiki/Metadata">metadata</a></p>
<h3 id="include">Include</h3>
<p>The include allows us to obtain the entity data and its relationships in the same query. These data may be in different databases. \
In this example the query is expressed as a text string. (Which is another alternative to the lambda expression)</p>
<pre><code class="language-Typescript">import { orm } from '../../lib'
(async () =&gt; {
  try {
    await orm.init('./config/northwind.yaml')
    const query = `Orders
    .filter(p =&gt; p.id === id)
    .include(p =&gt; 
      [ p.customer.map(p =&gt; p.name), 
        p.details
             .include(p =&gt; 
                 p.product
              .include(p =&gt; p.category.map(p =&gt; p.name))
          .map(p =&gt; p.name))
         .map(p =&gt; [p.quantity, p.unitPrice])
       ]
         )`
    const params = { id: 102 }
    const result = await orm.execute(query, params, { stage: 'PostgreSQL' })
    console.log(JSON.stringify(result, null, 2))
   } catch (error:any) {
    console.error(error.message)
   } finally {
       await orm.end()
   }
})()
</code></pre>
<p><strong>Result:</strong></p>
<pre><code class="language-json">[
  {
    &quot;id&quot;: 102,
    &quot;customerId&quot;: &quot;SPLIR&quot;,
    &quot;employeeId&quot;: 7,
    &quot;orderDate&quot;: &quot;1996-11-07T23:00:00.000Z&quot;,
    &quot;requiredDate&quot;: &quot;1996-12-05T23:00:00.000Z&quot;,
    &quot;shippedDate&quot;: &quot;1996-11-14T23:00:00.000Z&quot;,
    &quot;shipViaId&quot;: 1,
    &quot;freight&quot;: 8.63,
    &quot;name&quot;: &quot;Split Rail Beer &amp; Ale&quot;,
    &quot;address&quot;: &quot;P.O. Box 555&quot;,
    &quot;city&quot;: &quot;Lander&quot;,
    &quot;region&quot;: &quot;WY&quot;,
    &quot;postalCode&quot;: &quot;82520&quot;,
    &quot;country&quot;: &quot;USA&quot;,
    &quot;customer&quot;: {
      &quot;name&quot;: &quot;Split Rail Beer &amp; Ale&quot;
    },
    &quot;details&quot;: [
      {
        &quot;quantity&quot;: 24,
        &quot;unitPrice&quot;: 5.9,
        &quot;product&quot;: {
          &quot;name&quot;: &quot;Tourtire&quot;,
          &quot;category&quot;: {
            &quot;name&quot;: &quot;Meat/Poultry&quot;
          }
        }
      }
    ]
  }
]
</code></pre>
<p><strong>more info:</strong> <a href="https://lambda-orm.github.io/wiki/Include">include</a></p>
<h2 id="schema-configuration">Schema Configuration</h2>
<p>Through the schema, you can define entities, enumerations, indexes, unique keys, default values, constraints, mapping, sources, stages, listeners, etc. The schema can be defined in a JSON or YAML format. Conditions or actions are performed using the same <a href="https://www.npmjs.com/package/3xpr">expression language</a> that is used to define queries.</p>
<p><strong>view:</strong>  <a href="https://lambda-orm.github.io/wiki/Schema">schema</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaDefinition">definition</a> |
<a href="https://lambda-orm.github.io/wiki/Schema-Use">use</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaDefinition-Expressions">expressions</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaDefinition-EnvironmentVariables">environment Variables</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaDefinition-Composite">composite</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaExample-Listener">listener</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaExample-MultiplesStages">multiple stages</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaExample-StageMultiplesSources">multiple sources</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaSynchronization-Push">push</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaSynchronization-Pull">pull</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaSynchronization-Fetch">fetch</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaSynchronization-Introspect">introspect</a> |
<a href="https://lambda-orm.github.io/wiki/SchemaSynchronization-Incorporate">incorporate</a></p>
<h2 id="contributing">Contributing</h2>
<p>Would you like to contribute? Read <a href="https://github.com/lambda-orm/wiki/blob/main/CONTRIBUTING.md">our contribution guidelines</a> to learn more. There are many ways to help!</p>
<h2 id="documentation">Documentation</h2>
<p>Full documentation is available in the <a href="https://github.com/lambda-orm/wiki/wiki">Wiki</a>.</p>
<h2 id="all-labs">All Labs</h2>
<p>You can access various labs at <a href="https://github.com/lambda-orm/lambdaorm-labs">lambdaorm labs</a></p>
<h2 id="related-projects">Related projects</h2>
<ul>
<li><a href="https://www.npmjs.com/package/lambdaorm-cli">Lambda ORM CLI</a>: Command line interface for Î»ORM</li>
<li><a href="https://github.com/lambda-orm/lambdaorm-svc">Lambda ORM Service</a>: REST service for Î»ORM</li>
<li><a href="https://www.npmjs.com/package/lambdaorm-client-node">Client Node</a>: HTTP client for Î»ORM</li>
<li><a href="https://github.com/lambda-orm/lambdaorm-client-kotlin">Client Kotlin</a> : HTTP client for Î»ORM for Kotlin</li>
<li><a href="https://www.npmjs.com/package/3xpr">3xpr</a>: Extensible expression engine, which allows evaluating mathematical and logical expressions.</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Usage/" class="btn btn-neutral float-right" title="Usage">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
        <span style="margin-left: 15px"><a href="Usage/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.1.2
Build Date UTC : 2025-06-02 00:48:49.719131+00:00
-->
